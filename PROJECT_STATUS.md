# –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ Next.js 14 —Å TypeScript
- ‚úÖ Tailwind CSS
- ‚úÖ Prisma ORM —Å PostgreSQL
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Prisma —Å—Ö–µ–º–∞ —Å–æ –≤—Å–µ–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏:
  - users (—Å –ø–æ–ª—è–º–∏ balance, debt_to_company, photo_url)
  - tours (—Å –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π, –∫–æ–º–∏—Å—Å–∏—è–º–∏)
  - sales
  - tickets
  - categories
  - invitation_tokens
  - issued_items
  - balance_history
  - yookassa_payments

### 3. API Endpoints
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (login, register, verify-email, forgot-password, reset-password, me)
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (GET, POST, DELETE)
- ‚úÖ –≠–∫—Å–∫—É—Ä—Å–∏–∏ (GET, POST, DELETE, moderate, min-prices, commission, stop-sales)
- ‚úÖ –ü—Ä–æ–¥–∞–∂–∏ (GET, POST, create-payment)
- ‚úÖ –ë–∏–ª–µ—Ç—ã (POST, confirm, cancel, check/qr, check/number)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (promoters, managers, reset-balance, reset-debt, balance-history)
- ‚úÖ –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è (GET, POST)
- ‚úÖ –í—ã–¥–∞—á–∞ –≤–µ—â–µ–π (GET, POST, DELETE, my-items)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–º–æ—É—Ç–µ—Ä–æ–≤
- ‚úÖ –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã
- ‚úÖ Webhook –Æ–ö–∞—Å—Å—ã

### 4. –£—Ç–∏–ª–∏—Ç—ã
- ‚úÖ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (bcrypt)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ email (Mail.ru SMTP)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–æ–≤
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –±–∏–ª–µ—Ç–æ–≤ (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Æ–ö–∞—Å—Å–æ–π (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (sharp)

### 5. –§—Ä–æ–Ω—Ç–µ–Ω–¥
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ (LoginForm)
- ‚úÖ –î–∞—à–±–æ—Ä–¥—ã –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π:
  - Owner (–≤–ª–∞–¥–µ–ª–µ—Ü)
  - Owner Assistant (–ø–æ–º–æ—â–Ω–∏–∫ –≤–ª–∞–¥–µ–ª—å—Ü–∞)
  - Partner (–ø–∞—Ä—Ç–Ω–µ—Ä)
  - Partner Controller (–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –ø–∞—Ä—Ç–Ω–µ—Ä–∞)
  - Manager (–º–µ–Ω–µ–¥–∂–µ—Ä)
  - Promoter (–ø—Ä–æ–º–æ—É—Ç–µ—Ä)
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∏–ª–µ—Ç–æ–≤
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã
- ‚úÖ Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ Zustand store –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 6. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—ã–º —Å—Å—ã–ª–∫–∞–º
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ –ª–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–º–æ—É—Ç–µ—Ä–æ–≤ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è —ç–∫—Å–∫—É—Ä—Å–∏–π –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∏—Å—Å–∏–π (–ø—Ä–æ—Ü–µ–Ω—Ç –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞)
- ‚úÖ –ë–∞–ª–∞–Ω—Å—ã –∏ –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ë–∞–ª–∞–Ω—Å "–î–æ–ª–∂–µ–Ω –∫–æ–º–ø–∞–Ω–∏–∏" –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- ‚úÖ –í—ã–¥–∞—á–∞ –≤–µ—â–µ–π —Å —Ñ–æ—Ç–æ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–ª–µ—Ç–æ–≤ –ø–æ QR –∏ –Ω–æ–º–µ—Ä—É
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∏–ª–µ—Ç–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏/–æ—Ç–º–µ–Ω–µ –±–∏–ª–µ—Ç–æ–≤

## üìù –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Æ–ö–∞—Å—Å—ã
- ‚ö†Ô∏è Webhook –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ –Æ–ö–∞—Å—Å—ã
- ‚ö†Ô∏è –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º API

### 2. Email
- ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Mail.ru SMTP
- ‚ö†Ô∏è –£–ª—É—á—à–∏—Ç—å —à–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º

### 3. PDF –±–∏–ª–µ—Ç–æ–≤
- ‚ö†Ô∏è –£–ª—É—á—à–∏—Ç—å –¥–∏–∑–∞–π–Ω PDF –±–∏–ª–µ—Ç–æ–≤
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø –≤ PDF (–ª–æ–≥–æ—Ç–∏–ø –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ public/logo.png)

### 4. –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚ö†Ô∏è –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π:
  - –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–π
  - –ú–æ–¥–µ—Ä–∞—Ü–∏—è —ç–∫—Å–∫—É—Ä—Å–∏–π
  - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞–º–∏
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  - –í—ã–¥–∞—á–∞ –≤–µ—â–µ–π
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–æ–∫–µ–Ω—É
- ‚ö†Ô∏è –£–ª—É—á—à–∏—Ç—å UI/UX
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º

### 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å rate limiting
- ‚ö†Ô∏è –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- ‚ö†Ô∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö API endpoints

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env
```

3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```bash
npx prisma generate
npx prisma db push
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
npm run dev
```

## üìå –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **–ü–µ—Ä–≤—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü** –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Prisma Studio –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π endpoint –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
2. **–õ–æ–≥–æ—Ç–∏–ø** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `public/logo.png` (–∏–ª–∏ `public/logo.PNG`)
3. **–Æ–ö–∞—Å—Å–∞** —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. **Mail.ru SMTP** —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
5. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `PROJECT_SCHEMA.md`.
