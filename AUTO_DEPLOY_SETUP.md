# üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub Actions

## ‚úÖ –ß—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

1. ‚úÖ SSH –∫–ª—é—á —Å–æ–∑–¥–∞–Ω –∏ –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. ‚úÖ Git –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. ‚úÖ GitHub Actions workflow —Å–æ–∑–¥–∞–Ω
4. ‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ª–∏–≤–∫–µ –Ω–∞ GitHub

## üìã –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å –æ–¥–∏–Ω —à–∞–≥:

### –î–æ–±–∞–≤–∏—Ç—å SSH –∫–ª—é—á –≤ GitHub Secrets

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `GITHUB_SSH_KEY.txt`** –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ - —Ç–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ GitHub:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/irwkc/NewFormat_tour/settings/secrets/actions
   - –ò–ª–∏: Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret

3. **–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π —Å–µ–∫—Ä–µ—Ç:**
   - **Name**: `SSH_PRIVATE_KEY`
   - **Value**: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–í–ï–°–¨** —Ç–µ–∫—Å—Ç –∏–∑ —Ñ–∞–π–ª–∞ `GITHUB_SSH_KEY.txt`
     - –í–∫–ª—é—á–∞—è —Å—Ç—Ä–æ–∫–∏ `-----BEGIN OPENSSH PRIVATE KEY-----`
     - –ò `-----END OPENSSH PRIVATE KEY-----`
     - –ò –≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–µ–∂–¥—É –Ω–∏–º–∏

4. **–ù–∞–∂–º–∏—Ç–µ "Add secret"**

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è SSH –∫–ª—é—á–∞ –≤ GitHub Secrets:

- **–ü—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ –≤–µ—Ç–∫—É `main`** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –¥–µ–ø–ª–æ–π
- GitHub Actions –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH
- –û–±–Ω–æ–≤–∏—Ç –∫–æ–¥ –∏–∑ GitHub
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ü—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- –ü–µ—Ä–µ—Å–æ–±–µ—Ä—ë—Ç –ø—Ä–æ–µ–∫—Ç
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ PM2

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. –°–¥–µ–ª–∞–π—Ç–µ –ª—é–±–æ–π –∫–æ–º–º–∏—Ç –∏ push –≤ `main`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** –Ω–∞ GitHub
3. –£–≤–∏–¥–∏—Ç–µ –∑–∞–ø—É—Å–∫ workflow "Deploy to Production"
4. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è —Å–∞–π—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è

## üîß –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –í—ã–±–µ—Ä–∏—Ç–µ workflow **Deploy to Production**
3. –ù–∞–∂–º–∏—Ç–µ **Run workflow** ‚Üí **Run workflow**

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- **–£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª `GITHUB_SSH_KEY.txt`** –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–∞ –≤ GitHub Secrets (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ GitHub Secrets –∏ –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (–¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è)
- –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## üìû –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ:

- **IP**: 91.210.171.176
- **–î–æ–º–µ–Ω**: https://new-format-spb.ru
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: root
- **–ü—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞**: /var/www/newformat_tour
